var express = require('express');
var router = express.Router();

var parties = [{"PartyName":"ACT New Zealand","PartyVoteSeatsAllocated":"0","PartyVotes":"16689","PartyVotePercentageWon":"0.69","PartyVoteCadidatesCount":"41","ElectorateSeatsAllocated":"1","ElectorateVotes":"27778","ElectoratePercentageWon":"1.18","ElectorateCadidatesCount":"39","id":"1"},{"PartyName":"Aotearoa Legalise Cannabis Party","PartyVoteSeatsAllocated":"0","PartyVotes":"10961","PartyVotePercentageWon":"0.46","PartyVoteCadidatesCount":"13","ElectorateSeatsAllocated":"0","ElectorateVotes":"4936","ElectoratePercentageWon":"0.21","ElectorateCadidatesCount":"10","id":"2"},{"PartyName":"Ban1080","PartyVoteSeatsAllocated":"0","PartyVotes":"5113","PartyVotePercentageWon":"0.21","PartyVoteCadidatesCount":"9","ElectorateSeatsAllocated":"0","ElectorateVotes":"4448","ElectoratePercentageWon":"0.19","ElectorateCadidatesCount":"5","id":"3"},{"PartyName":"Conservative","PartyVoteSeatsAllocated":"0","PartyVotes":"95598","PartyVotePercentageWon":"3.97","PartyVoteCadidatesCount":"20","ElectorateSeatsAllocated":"0","ElectorateVotes":"81075","ElectoratePercentageWon":"3.45","ElectorateCadidatesCount":"64","id":"4"},{"PartyName":"Democrats for Social Credit","PartyVoteSeatsAllocated":"0","PartyVotes":"1730","PartyVotePercentageWon":"0.07","PartyVoteCadidatesCount":"35","ElectorateSeatsAllocated":"0","ElectorateVotes":"4647","ElectoratePercentageWon":"0.2","ElectorateCadidatesCount":"30","id":"5"},{"PartyName":"Focus New Zealand","PartyVoteSeatsAllocated":"0","PartyVotes":"639","PartyVotePercentageWon":"0.03","PartyVoteCadidatesCount":"8","ElectorateSeatsAllocated":"0","ElectorateVotes":"1797","ElectoratePercentageWon":"0.08","ElectorateCadidatesCount":"2","id":"6"},{"PartyName":"Green Party","PartyVoteSeatsAllocated":"14","PartyVotes":"257359","PartyVotePercentageWon":"10.7","PartyVoteCadidatesCount":"59","ElectorateSeatsAllocated":"0","ElectorateVotes":"165718","ElectoratePercentageWon":"7.06","ElectorateCadidatesCount":"57","id":"7"},{"PartyName":"Internet MANA","PartyVoteSeatsAllocated":"0","PartyVotes":"34094","PartyVotePercentageWon":"1.42","PartyVoteCadidatesCount":"32","ElectorateSeatsAllocated":"0","ElectorateVotes":"0","ElectoratePercentageWon":"0","ElectorateCadidatesCount":"0","id":"8"},{"PartyName":"Labour Party","PartyVoteSeatsAllocated":"5","PartyVotes":"604535","PartyVotePercentageWon":"25.13","PartyVoteCadidatesCount":"64","ElectorateSeatsAllocated":"27","ElectorateVotes":"801287","ElectoratePercentageWon":"34.13","ElectorateCadidatesCount":"71","id":"9"},{"PartyName":"Māori Party","PartyVoteSeatsAllocated":"1","PartyVotes":"31849","PartyVotePercentageWon":"1.32","PartyVoteCadidatesCount":"24","ElectorateSeatsAllocated":"1","ElectorateVotes":"42108","ElectoratePercentageWon":"1.79","ElectorateCadidatesCount":"24","id":"10"},{"PartyName":"National Party","PartyVoteSeatsAllocated":"19","PartyVotes":"1131501","PartyVotePercentageWon":"47.04","PartyVoteCadidatesCount":"75","ElectorateSeatsAllocated":"41","ElectorateVotes":"1081787","ElectoratePercentageWon":"46.08","ElectorateCadidatesCount":"64","id":"11"},{"PartyName":"New Zealand First Party","PartyVoteSeatsAllocated":"11","PartyVotes":"208300","PartyVotePercentageWon":"8.66","PartyVoteCadidatesCount":"31","ElectorateSeatsAllocated":"0","ElectorateVotes":"73384","ElectoratePercentageWon":"3.13","ElectorateCadidatesCount":"31","id":"12"},{"PartyName":"NZ Independent Coalition","PartyVoteSeatsAllocated":"0","PartyVotes":"872","PartyVotePercentageWon":"0.04","PartyVoteCadidatesCount":"10","ElectorateSeatsAllocated":"0","ElectorateVotes":"1929","ElectoratePercentageWon":"0.08","ElectorateCadidatesCount":"4","id":"13"},{"PartyName":"The Civilian Party","PartyVoteSeatsAllocated":"0","PartyVotes":"1096","PartyVotePercentageWon":"0.05","PartyVoteCadidatesCount":"8","ElectorateSeatsAllocated":"0","ElectorateVotes":"0","ElectoratePercentageWon":"0","ElectorateCadidatesCount":"0","id":"14"},{"PartyName":"United Future","PartyVoteSeatsAllocated":"0","PartyVotes":"5286","PartyVotePercentageWon":"0.22","PartyVoteCadidatesCount":"11","ElectorateSeatsAllocated":"1","ElectorateVotes":"14722","ElectoratePercentageWon":"0.63","ElectorateCadidatesCount":"11","id":"15"}];

/* GET home page. */
router.get('/parties.json', function(req, res, next) {
  res.send(parties);
});

router.get('/parties/:id.json', function(req, res, next) {
  parties.forEach(p => {
      if (p.id == req.params.id) {
          res.send(p);
      }
  });
});

module.exports = router;